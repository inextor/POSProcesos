<div class="container-fluid">
	<h1 class="my-3">Reservaciones</h1>
	<div class="card p-3">
		<div class="row">
			<div class="col-12 col-md-3">
				<span>Nombre: </span>
				<div>
					<strong>{{reservation_info.reservation.client_name}}</strong>
				</div>
			</div>
			<div class="col-12 col-md-3">
				<span>Creation: </span>
				<div>
					<strong>{{reservation_info.reservation.client_name}}</strong>
				</div>
			</div>
			<div class="col-12 col-md-3">
				<span>Ultimo Corte</span>
				<div>
					<strong>N/A</strong>
				</div>
			</div>
			<div class="col-12 col-md-3">
				<span></span>
				<div>
					<button class="btn btn-primary">Generar Corte</button>
				</div>
			</div>

		</div>
		<div class="row">
			<div class="col-12 col-md-6 form-group">
				<label>Fecha de entrega</label>
				<input type="datetime-local" name="scheduled_delivery" [ngModel]="scheduled_delivery" (ngModelChange)="updateScheduleDelivery($event)" class="form-control">
			</div>
			<div class="col-12 col-md-6 form-group">
				<label>Fecha de recolección</label>
				<input type="datetime-local" name="scheduled_return" [ngModel]="scheduled_return" (ngModelChange)="updateScheduleReturn($event)" class="form-control">
			</div>
		</div>
	</div>
	<!--div class="row">
		<div class="col-12 col-md-6"-->
			<h2>Artículos reservados</h2>
			<div class="card p-3 mt-3">
				<table class="w-100">
					<tr>
						<td>Articulo</td>
						<td class="text-end">Cantidada</td>
						<td class="text-end">Entregados</td>
						<td class="text-end">Fecha de<br>Entrega</td>
						<td class="text-end">Asignado<br>Entrega</td>
						<td class="text-end">Fecha de<br>Recoleccion</td>
						<td class="text-end">Cantidad Retornada</td>
						<td class="text-end">Asignado<br>Recoleccion</td>
						<td class="text-end">Acciones</td>
					</tr>
					<tr *ngFor="let ri of reservation_info.items">
						<td>{{ri.item.name}}</td>
						<td class="text-end">{{ri.reservation_item.qty}}</td>
						<td class="text-end">{{ri.reservation_item.delivered_qty}}</td>
						<td class="text-end">{{ri.reservation_item.scheduled_delivery | shortDate: 'local'}}</td>
						<td class="text-end">
							<div *ngFor="let dd of ri.delivery_assignments">{{dd.user.name}}</div>
						</td>
						<td class="text-end">{{ri.reservation_item.scheduled_return | shortDate:'local'}}</td>
						<td class="text-end">{{ri.reservation_item.returned_qty}}</td>
						<td class="text-end">
							<div *ngFor="let dd of ri.return_assignments">{{dd.user.name}}</div>
						</td>
						<td class="text-end">
							<a class="btn btn-primary btn-sm mx-1" (click)="show_assign_serials= !show_assign_serials">Asignar Inventario</a>
							<button class="btn btn-primary btn-sm mx-1">Marcar Como Entregado</button>
						</td>
					</tr>
				</table>
			</div>
		<!--/div>
		<div class="col-12 col-md-6"-->
			<h2>Inventario Asignado</h2>
			<div class="card p-3 mt-3">
				<div class="text-end">
					<button class="btn btn-primary" (click)="markAllAsDelivered()">Asignar Inventario</button>
				</div
				<table class="w-100">
					<thead>
					<tr>
						<th>Serie</th>
						<th>Articulo</th>
					</tr>
					</thead>
					<tr *ngFor="let ris of reservation_item_serials">
						<td>{{ris.serial_string}}</td>
						<td>ESTACIONARIOS 24HRS</td>
					</tr>
				</table>
			</div>
		<!--/div>
	</div-->
</div>
<app-modal [(show)]="show_assign_serials">
	<h2>Asignar Inventario</h2>
	<div style="min-height:400px">
		<div class="row">
			<div class="col-12 col-md-6">
				<input type="text" class="form-control" placeholder="Buscar..." name="search_serials"  [(ngModel)]="search_serials">
			</div>
			<div class="col-12 col-md-6">
				<button class="btn btn-primary" (click)="addSerial(search_serials)">Añadir</button>
			</div>
		</div>
	</div>
</app-modal>
