<div class="container-fluid">
	<h1 class="my-3">Lista de Consumos</h1>
	@if (is_loading) {
		<div class="text-center">
			<p>Cargando datos de consumo...</p>
		</div>
	}

	@if (!is_loading && consumption_info_list.length > 0)
	{

		<div class="card my-3 p-3">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>ID</th>
						<th>Artículo</th>
						<th>Cantidad</th>
						<th>Precio</th>
						<th>Área de Producción</th>
						<th>Consumido por</th>
						<th>Tienda</th>
						<th>Descripción</th>
						<th>Estado</th>
						<th>Creado</th>
						<th>Actualizado</th>
						<th>Acciones</th>
					</tr>
				</thead>
				<tbody>
					@for (c of consumption_info_list; track c.consumption.id) {

						<tr>
							<td>{{ c.consumption.id }}</td>
							<td>{{ c.item_info?.category?.name}} - {{ c.item_info.item.name}}</td>
							<td>{{ c.consumption.qty }}</td>
							<td>{{ c.consumption.price }}</td>
							<td>{{ c.production_area?.name}}</td>
							<td>{{ c.consumption.consumed_by_user_id }}</td>
							<td>{{ c.store?.name }}</td>
							<td>{{ c.consumption.description }}</td>
							<td>{{ c.consumption.status }}</td>
							<td>{{ c.consumption.created | date:'short' }}</td>
							<td>{{ c.consumption.updated | date:'short' }}</td>
							<td>
								<button class="btn btn-danger" (click)="deleteConsumption(c)">Eliminar</button>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	}
</div>
