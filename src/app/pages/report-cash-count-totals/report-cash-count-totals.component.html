<div class="container-fluid">
	<h1 class="my-3">Totales de Recuento de Efectivo</h1>
	<div class="card p-3">
		<div class="row">
			<div class="col-4">
				<label>Sucursal</label>
				<select name="store_id" class="form-control" [(ngModel)]="cash_count_search.eq['store_id']">
					<option [ngValue]="null">Todas</option>
					@for (s of store_list; track s) {
						<option [value]="s.id">{{s.name | titlecase}}</option>
					}
				</select>
			</div>
			<div class="col-4">
				<label>Fecha Inicial</label>
				<input type="datetime-local" name="start_date" class="form-control" [(ngModel)]="start_date" (ngModelChange)="onDateChange($event, cash_count_search.search_extra, 'initial_date')">
			</div>
			<div class="col-4">
				<label>Fecha Final</label>
				<input type="datetime-local" name="end_date" class="form-control" [(ngModel)]="end_date" (ngModelChange)="onDateChange($event, cash_count_search.search_extra, 'final_date', '', 59)">
			</div>
		</div>
		<div class="row mt-3">
			<div class="col">
				<button type="button" class="btn btn-primary w-100" (click)="performSearch()">
					<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" width="1.3em" height="1.3em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128c0-70.7 57.2-128 128-128c70.7 0 128 57.2 128 128c0 70.7-57.2 128-128 128z" fill="currentColor"/></svg>
					Buscar
				</button>
			</div>
		</div>
	</div>

	<div class="card p-3 mt-3">
		<table class="table table-bordered">
			<thead>
				<tr>
					<th>Moneda</th>
					<th>Tipo</th>
					<th class="text-end">Denominaci√≥n</th>
					<th class="text-end">Cantidad Total</th>
					<th class="text-end">Monto Total</th>
				</tr>
			</thead>
			<tbody>
				@for(c of cash_count_list; track c.currency_id + '_' + c.denomination + '_' + c.type)
				{
					<tr>
						<td>{{c.currency_id}}</td>
						<td>{{getTranslatedType(c.type)}}</td>
						<td class="text-end">${{c.denomination | number:'1.2-2'}}</td>
						<td class="text-end">{{c.total_quantity | number}}</td>
						<td class="text-end">${{c.total_amount | number:'1.2-2'}}</td>
					</tr>
				}
			</tbody>
		</table>
	</div>
</div>